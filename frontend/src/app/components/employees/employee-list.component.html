<div class="employee-container">
  <!-- Header Section -->
  <header class="dashboard-header">
    <div class="header-content">
      <div class="header-info">
        <button class="back-btn" (click)="goBack()">
          <span class="back-icon">‚Üê</span>
          Back to Dashboard
        </button>
        <h1 class="dashboard-title">
          <span class="title-text">Team Members</span>
        </h1>
        <p class="dashboard-subtitle">Manage your team and employee information</p>
      </div>
      <button class="btn btn-primary" (click)="showAddEmployeeForm()">
        <span class="btn-icon">‚ûï</span>
        Add Employee
      </button>
    </div>
  </header>

  <!-- Search and Filters Section -->
  <section class="main-section">
    <div class="section-header">
      <h2 class="section-title">Employee Directory</h2>
      <p class="section-subtitle">Search and manage your team members</p>
    </div>
    
    <div class="search-container">
      <div class="search-input-wrapper">
        <span class="search-icon">üîç</span>
        <input 
          type="text" 
          class="search-input" 
          placeholder="Search employees by name, email, position, or department..."
          [(ngModel)]="searchTerm"
          (input)="filterEmployees()">
      </div>
    </div>
  </section>

  <!-- Add/Edit Employee Form -->
  <section class="form-section" *ngIf="showAddForm">
    <div class="form-container">
      <div class="form-header">
        <h2 class="form-title">
          {{ editingEmployee ? 'Edit Employee' : 'Add New Employee' }}
        </h2>
        <button class="close-btn" (click)="cancelForm()">‚úï</button>
      </div>

      <form class="employee-form" (ngSubmit)="saveEmployee()">
        <div class="form-grid">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input 
              type="text" 
              id="firstName" 
              class="form-input"
              [(ngModel)]="currentEmployee.firstName"
              name="firstName"
              required>
          </div>

          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input 
              type="text" 
              id="lastName" 
              class="form-input"
              [(ngModel)]="currentEmployee.lastName"
              name="lastName"
              required>
          </div>

          <div class="form-group full-width">
            <label for="email">Email</label>
            <input 
              type="email" 
              id="email" 
              class="form-input"
              [(ngModel)]="currentEmployee.email"
              name="email"
              required>
          </div>

          <div class="form-group">
            <label for="position">Position</label>
            <input 
              type="text" 
              id="position" 
              class="form-input"
              [(ngModel)]="currentEmployee.position"
              name="position"
              required>
          </div>

          <div class="form-group">
            <label for="department">Department</label>
            <select 
              id="department" 
              class="form-input"
              [(ngModel)]="currentEmployee.department"
              name="department"
              required>
              <option value="">Select Department</option>
              <option value="Engineering">Engineering</option>
              <option value="Marketing">Marketing</option>
              <option value="Sales">Sales</option>
              <option value="HR">Human Resources</option>
              <option value="Finance">Finance</option>
              <option value="Operations">Operations</option>
            </select>
          </div>

          <div class="form-group">
            <label for="hireDate">Hire Date</label>
            <input 
              type="date" 
              id="hireDate" 
              class="form-input"
              [(ngModel)]="currentEmployee.hireDate"
              name="hireDate"
              required>
          </div>

          <div class="form-group" *ngIf="editingEmployee">
            <label class="checkbox-label">
              <input 
                type="checkbox" 
                [(ngModel)]="editingEmployee.isActive"
                name="isActive">
              <span class="checkbox-text">Active Employee</span>
            </label>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="btn btn-secondary" (click)="cancelForm()">
            Cancel
          </button>
          <button type="submit" class="btn btn-primary">
            {{ editingEmployee ? 'Update Employee' : 'Add Employee' }}
          </button>
        </div>
      </form>
    </div>
  </section>

  <!-- Employee List -->
  <section class="employees-section">
    <div class="employees-header">
      <h2 class="section-title">All Employees ({{ filteredEmployees.length }})</h2>
    </div>

    <div class="loading-state" *ngIf="isLoading">
      <div class="loading-spinner"></div>
      <p>Loading employees...</p>
    </div>

    <div class="employees-grid" *ngIf="!isLoading && filteredEmployees.length > 0">
      <div class="employee-card" *ngFor="let employee of filteredEmployees">
        <div class="employee-avatar">
          <span class="avatar-text">{{ employee.firstName.charAt(0) }}{{ employee.lastName.charAt(0) }}</span>
        </div>
        
        <div class="employee-info">
          <h3 class="employee-name">{{ getFullName(employee) }}</h3>
          <p class="employee-position">{{ employee.position }}</p>
          <p class="employee-department">{{ employee.department }}</p>
          <p class="employee-email">{{ employee.email }}</p>
          <p class="employee-hire-date">Hired: {{ formatDate(employee.hireDate) }}</p>
          
          <div class="employee-status">
            <span class="status-badge" [class.active]="employee.isActive" [class.inactive]="!employee.isActive">
              {{ employee.isActive ? 'Active' : 'Inactive' }}
            </span>
          </div>
        </div>

        <div class="employee-actions">
          <button class="action-btn edit" (click)="editEmployee(employee)" title="Edit Employee">
            <span class="action-icon">‚úèÔ∏è</span>
          </button>
          <button class="action-btn delete" (click)="deleteEmployee(employee.id)" title="Delete Employee">
            <span class="action-icon">üóëÔ∏è</span>
          </button>
        </div>
      </div>
    </div>

    <div class="empty-state" *ngIf="!isLoading && filteredEmployees.length === 0">
      <div class="empty-icon">üë•</div>
      <h3 class="empty-title">{{ searchTerm ? 'No employees found' : 'No employees yet' }}</h3>
      <p class="empty-message">
        {{ searchTerm ? 'Try adjusting your search criteria' : 'Add your first team member to get started' }}
      </p>
      <button class="btn btn-primary" (click)="showAddEmployeeForm()" *ngIf="!searchTerm">
        <span class="btn-icon">‚ûï</span>
        Add First Employee
      </button>
    </div>
  </section>
</div>